<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:vm="clr-namespace:appointex.ViewModels"
             x:Class="appointex.AccountPage"
             Shell.NavBarIsVisible="False">

    <Grid RowDefinitions="Auto, *">
        
        <Border Grid.Row="0" BackgroundColor="White" StrokeThickness="0">
            <Grid Padding="20,50,20,0">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>

                <Label Text="Mi Cuenta"
                       FontSize="28"
                       FontFamily="Montserrat-Bold"
                       TextColor="Black"
                       Margin="0,0,0,20"/>
            </Grid>
        </Border>

        <Border Grid.Row="1" 
                BackgroundColor="White" 
                StrokeThickness="0"
                VerticalOptions="FillAndExpand"
                Margin="0,-20,0,0"> <Border.StrokeShape>
                <RoundRectangle CornerRadius="30,30,0,0"/>
            </Border.StrokeShape>

            <ScrollView>
                <VerticalStackLayout Padding="20,30,20,30" Spacing="25">

                    <Grid ColumnDefinitions="70, *" ColumnSpacing="15">
                        <Border Grid.Column="0" StrokeShape="Ellipse" HeightRequest="70" WidthRequest="70" StrokeThickness="0">
                            <Image Source="{Binding UserPhoto}" Aspect="AspectFill"/>
                        </Border>
                        
                        <VerticalStackLayout Grid.Column="1" VerticalOptions="Center" Spacing="2">
                            <Label Text="{Binding UserName}" 
                                   FontSize="20" 
                                   FontFamily="Montserrat-Bold" 
                                   TextColor="Black"/>
                            <Label Text="{Binding UserEmail}" 
                                   FontSize="14" 
                                   FontFamily="Montserrat-Regular" 
                                   TextColor="Gray"/>
                        </VerticalStackLayout>
                    </Grid>

                    <BoxView HeightRequest="1" Color="#f0f0f0" Margin="0,10"/>

                    <Label Text="Ajustes" FontSize="16" FontFamily="Montserrat-Bold" TextColor="Black"/>

                    <Border BackgroundColor="#f9f9f9" 
                            StrokeShape="RoundRectangle 15" 
                            StrokeThickness="0" 
                            Padding="15">
                        <Border.GestureRecognizers>
                            <TapGestureRecognizer Command="{Binding GoToNotificationsOptionCommand}"/>
                        </Border.GestureRecognizers>

                        <Grid ColumnDefinitions="30, *, Auto">
                            <Image Grid.Column="0" 
                                   Source="notificacion_opcion.png" 
                                   HeightRequest="22" 
                                   HorizontalOptions="Start"/>
                            
                            <Label Grid.Column="1" 
                                   Text="Notificaciones" 
                                   FontSize="16" 
                                   FontFamily="Montserrat-Medium" 
                                   TextColor="#333"
                                   VerticalOptions="Center"
                                   Margin="15,0,0,0"/>
                            
                            <Label Grid.Column="2" Text="›" FontSize="20" TextColor="Gray" VerticalOptions="Center"/>
                        </Grid>
                    </Border>

                    <Border BackgroundColor="#fff0f0" 
                            StrokeShape="RoundRectangle 15" 
                            StrokeThickness="0" 
                            Padding="15">
                        <Border.GestureRecognizers>
                            <TapGestureRecognizer Command="{Binding LogoutCommand}"/>
                        </Border.GestureRecognizers>

                        <Grid ColumnDefinitions="30, *">
                            <Image Grid.Column="0" 
                                   Source="cerrar_sesion.png" 
                                   HeightRequest="22" 
                                   HorizontalOptions="Start"/>
                            
                            <Label Grid.Column="1" 
                                   Text="Cerrar Sesión" 
                                   FontSize="16" 
                                   FontFamily="Montserrat-Medium" 
                                   TextColor="#d32f2f" 
                                   VerticalOptions="Center"
                                   Margin="15,0,0,0"/>
                        </Grid>
                    </Border>

                </VerticalStackLayout>
            </ScrollView>
        </Border>
    </Grid>
</ContentPage>